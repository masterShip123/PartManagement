<nb-card>
  <nb-card-header>
    Repair and Rebuild Request
  </nb-card-header>

  

  <!-- row 1 -->
  <div class="col-md-12">

    <div class="row">
      <div class="col-md-4">
        <div class="form-group">
          <label for="inputFirstName">Request no </label>
          <input type="text" class="form-control" id="requestno" value="{{requestNoShowHTML}}" #requestno disabled>
        
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="inputLastName">Request date</label>
          <input type="text" class="form-control" id="requestdate" value="{{request_date}}" #requestdate disabled>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="inputLastName">Request time</label>
          <input type="text" class="form-control" id="requesttime" value="{{requesttimeShowHTML}}" #requesttime disabled>
        </div>
      </div>
    </div>
    <!-- row 2  -->
    <div class="row">
      <div class="col-md-4">
        <div class="form-group">
          <label for="inputFirstName">Request by</label>
          <input type="text" class="form-control" id="requestby" value="{{request_by}}" #requestby disabled>
        
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="inputLastName">Section</label>
          <input type="text" class="form-control" id="section" value="{{section_d}}" #section disabled>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="inputLastName">Status</label>
          <input type="text" class="form-control" id="status" value="{{statusShowHTML}}" #statuse disabled>
        </div>
      </div>
    </div>

  </div>
  
  <!-- Trap -->
 
    <div class="col-md-12" >
        <nb-card >
            <nb-tabset fullWidth>
              <nb-tab tabTitle="Request Detail">
                
                  <div class="col-sm-6">
                      <div class="form-group">
                        <label for="inputWebsite">Request Type</label>
                        <select [disabled]="disableCreate" class="form-control"  id="Status" #requestTypess>
                            <ng-container *ngIf="requestTypeShowHTML == 0">
                                <option   *ngFor= "let requestTypes of service.listrequestTypeList"  value="{{requestTypes.requestType_ID}}">{{requestTypes.requestType_Name}}</option>
                            </ng-container>
                            <ng-container  *ngIf="requestTypeShowHTML == 1">
                                <option   value="{{requestTypeShowHTMLValueID}}">{{requestTypeShowHTMLValue}}</option>
                            </ng-container>
                          </select>
                      </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                          <label for="inputWebsite">Location / Process</label>
                          <div class="form-group">
                            <select [disabled]="disableCreate" class="form-control"  id="location" #locationList>
                                <ng-container *ngIf="requestTypeShowHTML == 0">
                                    <option  *ngFor= "let Locations of service.listLocation"  value="{{Locations.location_ID}}">{{Locations.location_name}}</option>   
                                </ng-container>
                                <ng-container *ngIf="requestTypeShowHTML == 1">
                                    <option   value="{{locationShowHTMLValueID}}">{{locationShowHTMLValue}}</option> 
                                </ng-container>
                                
                            </select>
                          </div> 
                        </div>
                      </div>
                <!-- End Row -->
                <div class="col-sm-12">
                    <div class="form-group">
                      <label for="inputLastName">Befor Problem Description (รายละเอียดปัญหาก่อนแก้ไข)</label>
                      <textarea [disabled]="disableCreate" rows="5" nbInput fullWidth shape="round"  #beforeDetail>{{valueTextArea}}</textarea>
                    </div>
                  </div>
              
              <div class="col-sm-12">
                 <label for="inputLastName">Befor Picture Problem (รูปภาพปัญหาก่อนการแก้ไข)</label>
              </div>
              
              
              
             
                  <!-- <div class="col-sm-2">
                      
                      <button nbButton status="danget"  (click)="cancel()">Choose File</button>
                   
                  </div>  
                  <div class="col-sm-12">
                      <label for="inputLastName">No File Chosen</label>
                   </div> -->
                   <!-- <div class="col-sm-12">
                    <div class="custom-file">
                      <input type="file" class="custom-file-input" multiple formControlName="importFile" id="importFile" (change)="onFileChange($event.target.files)">
                      <label class="custom-file-label" #labelImport for="importFile"><i class="fas fa-search"></i> Choose file</label>              
                    </div>
                   </div> -->
                  
                   <div class="col-sm-12">
                      <input [disabled]="disableCreate" type="file" multiple class="form-control-file"  id="importFile" (change)="onFileChange($event.target.files)">
                          <nb-card class="list-card" size="small">
                              <nb-card-body>
                                  <form>
                                      <div class="form-group">
                                          
                                         
                                          <div class="table-responsive">
                                            <table class="table  table-striped">
                                              <thead>
                                                <tr>
                                                  <th>Name</th>
                                                  <th>Actions</th>
                                                  <th>Image</th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <tr *ngFor="let empLists of empList ; let i = index;">
                                                  <td>{{empLists.name}}</td>
                                                  <td><button type="button" class="btn btn-danger btn-xs"
                                                    (click)="removeLanguague(empLists, i)">
                                                  <span class="glyphicon glyphicon-trash"></span> Remove
                                                   </button></td>
                                                   <td><img src='{{urls[i]}}'  (click)="open(i)" class="rounded mb-3 pointer" width="180" height="180">
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </div>
                                        </div>
              
                                      </form>
                                </nb-card-body>
                            </nb-card>
                          
                   </div>
                   
                
                      <div class="col-md-4">
                    
                          <nb-card>
                              <nb-card-header>Request person</nb-card-header>
                              <nb-card-body>
                                <form >
                                  <div class="form-group">
                                      <label *ngIf="showRequestPerson">{{request_by}}</label>   
                                  </div>
                                  <button [disabled]="!(perMission == 'UT4')" nbButton status="success" (click)="createRequest(requestTypess.value,locationList.value,beforeDetail.value)">Create</button>
                                  <!-- <button [disabled]="!(perMission == 'UT4')" nbButton status="danger"  (click)="cancel()">Cancel</button> -->
                                 
                                </form>
                              </nb-card-body>
                            </nb-card>
                       </div>
                
                       <div class="col-md-4">
                          <nb-card>
                              <nb-card-header>Section Approve (LD Up)</nb-card-header>
                              <nb-card-body>
                                <form >
                                  <div class="form-group">
                                      <!-- <label >Choose file</label>    -->
                                  </div>
                                  <button [disabled]="!(perMission == 'UT5')" type="submit" class="btn btn-success">Create</button>
                                  <button [disabled]="!(perMission == 'UT5')" nbButton status="danger"  (click)="cancel()">Cancel</button>
                                </form>
                              </nb-card-body>
                            </nb-card>
                       </div>
                       <div class="col-md-4" >
                          <nb-card>
                              <nb-card-header>Repair section Approve (ACH Up)</nb-card-header>
                              <nb-card-body>
                                <form >
                                  <div class="form-group">
                                      <!-- <label >Choose file</label>    -->
                                  </div>
                                  <button [disabled]="!(perMission == 'UT1')" type="submit" class="btn btn-success">Create</button>
                                  <button [disabled]="!(perMission == 'UT1')" nbButton status="danger"  (click)="cancel()">Cancel</button>
                                </form>
                              </nb-card-body>
                            </nb-card>
                       </div>
              </nb-tab>
              <nb-tab tabTitle="Repair Detail">
                <span>Content #2</span>
              </nb-tab>
            </nb-tabset>
          </nb-card>

    
    
  </div>
  <nb-card-body>
     
</nb-card-body>

</nb-card>